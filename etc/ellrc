#!/usr/bin/env bash

############# assert dirs exist
mkdir -p $Ell/docs
mkdir -p $Ell/etc
mkdir -p $Ell/src
mkdir -p $Ell/test

alias gp="git add *;git commit -am save;git push;git status"
alias ls="ls -G"
alias tmux="tmux -f $Ell/etc/tmux-conf "
alias vi="vim -u $Ell/etc/vimrc "
alias vims="vim +PluginInstall +qall"         

docs() { $Ell/etc/moon2md $Ell/src; }
here() { cd $1; basename `pwd`; }
aliases() {
 for f in *.moon; do
   if grep -qs "^#!\/usr\/bin\/env" $f; then
     chmod +x $f
     eval "alias ${f%.moon}=\"./$f\""
  fi
 done
}

aliases $Ell/src
aliases $Ell/test

PROMPT_COMMAND='echo -ne "ğŸŒœ $(git branch 2>/dev/null | grep '^*' | colrm 1 2):";PS1="$(here ..)/$(here .):\!\e[m â–¶ "'

tput bold; tput setaf 241; alias; tput sgr0


